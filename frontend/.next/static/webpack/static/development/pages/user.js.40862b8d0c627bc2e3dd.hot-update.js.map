{"version":3,"file":"static/webpack/static\\development\\pages\\user.js.40862b8d0c627bc2e3dd.hot-update.js","sources":["webpack:///./pages/user.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Card, Avatar } from \"antd\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { LOAD_USER_POSTS_REQUEST } from \"../reducers/post\";\r\nimport { LOAD_USER_REQUEST } from \"../reducers/user\";\r\nimport PostCard from \"../components/PostCard\";\r\n\r\nconst User = ({ id }) => {\r\n  const dispatch = useDispatch();\r\n  const { mainPosts } = useSelector(state => state.post);\r\n  const { userInfo } = useSelector(state => state.user);\r\n\r\n  useEffect(() => {\r\n    dispatch({\r\n        type: LOAD_USER_REQUEST,\r\n        data: id,\r\n    })\r\n    dispatch({\r\n      type: LOAD_USER_POSTS_REQUEST,\r\n      data: id,\r\n    });\r\n  }, []);\r\n  return (\r\n    <div>\r\n      {userInfo ? (\r\n        <Card\r\n          actions={[\r\n            <div key=\"twit\">\r\n              짹짹!\r\n              <br />\r\n              {userInfo.Posts}\r\n            </div>,\r\n            <div key=\"following\">\r\n              팔로잉\r\n              <br />\r\n              {userInfo.Followings}\r\n            </div>,\r\n            <div key=\"follower\">\r\n              팔로워\r\n              <br />\r\n              {userInfo.Followers}\r\n            </div>\r\n          ]}\r\n        >\r\n          <Card.Meta\r\n            avatar={<Avatar>{userInfo.nickname[0]}</Avatar>}\r\n            title={userInfo.nickname}\r\n          />\r\n        </Card>\r\n      ) : null}\r\n      {mainPosts.map(c => (\r\n        <PostCard key={+c.createdAt} post={c} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nUser.propTypes = {\r\n  id: PropTypes.number.isRequired\r\n};\r\n\r\nUser.getInitialProps = async context => {\r\n  console.log(\"user getInitialProps\", context.query.id);\r\n  return { id: parseInt(context.query.id, 10) }; // 서버에서 받은 데이터를 다시 프론트의 props로 전달\r\n};\r\n\r\nexport default User;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAFA;AAEA;AAAA;AAFA;AACA;AADA;AAGA;AAAA;AAHA;AACA;AAIA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AAIA;AACA;AAAA;AAKA;AAAA;AAKA;AAAA;AAZA;AAoBA;AACA;AAFA;AAMA;AACA;AAAA;AAAA;AADA;AAKA;AACA;AACA;AACA;AADA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AAAA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAIA;;;;A","sourceRoot":""}